## 647. 回文子串

回文字符串 是正着读和倒过来读一样的字符串。

子字符串 是字符串中的由连续字符组成的一个序列。

具有不同开始位置或结束位置的子串，即使是由相同的字符组成，也会被视作不同的子串。



示例 1：

输入：s = "abc"
输出：3
解释：三个回文子串: "a", "b", "c"

来源：力扣（LeetCode）
链接：[https://leetcode.cn/problems/palindromic-substrings](https://leetcode.cn/problems/palindromic-substrings)
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。



### 确定dp数组（dp table）以及下标的含义

```Java
使用二维数组dp[i][j]
表示字符串s的从i到j的部分是否为回文串，是回文串则等于true，不是则等于false
```

### 确定递推公式

```Java
如果s[i] != s[j],则dp[i][j] = false
如果s[i] == s[j],分为三种情况
j-i == 0,即j-i区间内只有一个字符，则等于true
j-i == 1,即j-i区间内只有两个字符，则等于true
j-i > 1,此时dp[i][j]的状态取决于dp[i+1][j-1]
```

### dp数组如何初始化

全部初始化为false

### 确定遍历顺序

```Java
从下到上，从左到右遍历
for(int i = s.length()-1;i >=0;i--){
    for(int j = i;j < s.length();j++){
        ...
    }
}
```

### 举例推导dp数组





```Java
    public int countSubstrings(String s) {
        boolean[][] dp = new boolean[s.length() + 1][s.length() + 1];
        int result = 0;
        for(int i = s.length()-1;i >=0;i--){
            for(int j = i;j < s.length();j++){
                if(s.charAt(i) == s.charAt(j)){
                    if(j - i <= 1){
                        dp[i][j] = true;
                        result++;
                    }
                    else if(dp[i+1][j-1]){
                        dp[i][j] = true;
                        result++;
                    }
                }
            }
        }

        return result;
    }
```